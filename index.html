<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Heart Animation</title>
<style>
    body {
        background: black;
        margin: 0;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100vh;
        font-family: monospace;
        white-space: pre;
    }

    #controls {
        position: absolute;
        top: 20px;
        text-align: center;
    }

    input {
        padding: 8px;
        font-size: 16px;
        border-radius: 5px;
        border: none;
        outline: none;
    }

    button {
        padding: 8px 12px;
        font-size: 16px;
        border-radius: 5px;
        border: none;
        background: red;
        color: white;
        cursor: pointer;
        margin-left: 5px;
    }

    #heart {
        font-size: 10px;
        line-height: 10px;
    }
</style>
</head>
<body>

<div id="controls">
    <input type="text" id="nameInput" placeholder="Nhập tên hoặc số điện thoại">
    <button onclick="startHeart()">OK</button>
</div>

<pre id="heart"></pre>

<script>
    const colors = ["#ff0000", "#ffff00", "#00aaff"];
    const heartElement = document.getElementById("heart");
    let text = "LOVE";

    function startHeart() {
        const input = document.getElementById("nameInput").value.trim();
        if (input !== "") {
            text = input;
        }
    }

    function drawHeart() {
        let output = "";

        for (let y = 15; y > -15; y--) {
            for (let x = -30; x < 30; x++) {
                let formula =
                    Math.pow((x * 0.05) ** 2 + (y * 0.1) ** 2 - 1, 3) -
                    (x * 0.05) ** 2 * Math.pow(y * 0.1, 3);

                if (formula <= 0) {
                    let index = ((x - y) % text.length + text.length) % text.length;
                    output += text[index];
                } else {
                    output += " ";
                }
            }
            output += "\n";
        }

        let randomColor = colors[Math.floor(Math.random() * colors.length)];
        heartElement.style.color = randomColor;
        heartElement.textContent = output;
    }

    setInterval(drawHeart, 200);
</script>

</body>
</html>
